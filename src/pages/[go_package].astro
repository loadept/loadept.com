---
import type { MarkdownInstance } from 'astro'
import type { FrontMatterResource } from '../modules/shared/types/frontmatter'

export const getStaticPaths = (() => {
  const resourcePage = import.meta.glob<MarkdownInstance<FrontMatterResource>>('../content/resources/go-packages/*.md', { eager: true })

  return Object.entries(resourcePage).map(([filePath, post]) => {
    const slug = filePath.replace('../content/resources/go-packages/', '').replace('.md', '').trim()

    return {
      params: { go_package: slug },
      props: { post }
    }
  })
})

const { post } = Astro.props
---

<post.Content />
